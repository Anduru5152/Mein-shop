<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mein Shop</title>
<style>
  body { font-family: Arial, sans-serif; background:#f9f9f9; margin:0; padding:0; }
  h1,h2,h3 { margin:0; }
  button { cursor:pointer; }

  /* Start/Login/Register */
  #startScreen, #loginScreen, #registerScreen { display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; text-align:center; }
  .btn { padding:12px 25px; margin:10px; color:white; background:#28a745; border:none; border-radius:5px; cursor:pointer; font-size:1em; }
  .btn:hover { background:#218838; }
  .linkBlue { color:#007bff; cursor:pointer; text-decoration:underline; margin-top:15px; display:inline-block; }
  input { width:250px; padding:8px; margin:5px 0; border:1px solid #ccc; border-radius:5px; }
  .box { background:white; padding:20px; border-radius:8px; border:1px solid #ccc; margin:10px; }

  /* Shop */
  #shop { display:none; padding:20px; max-width:1200px; margin:auto; }
  #searchBar { width:100%; max-width:500px; padding:8px; margin-bottom:20px; font-size:1em; }
  .produkte { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
  .produkt { border:1px solid #ccc; border-radius:8px; width:30%; padding:10px; text-align:center; background:white; cursor:pointer; transition:0.3s; position:relative; }
  .produkt:hover { box-shadow:0 0 10px #888; }
  .produkt img { width:100%; border-radius:5px; }
  .name { font-weight:bold; margin:10px 0 5px; }
  .preis { color:green; font-size:1.2em; margin-bottom:10px; }
  .produkt button { margin-top:5px; }

  /* Warenkorb */
  #cart { position:fixed; top:50%; transform:translateY(-50%); width:60px; height:60px; background:white; border-radius:50%; border:3px solid orange; display:flex; align-items:center; justify-content:center; cursor:grab; z-index:1000; transition:left 0.2s, right 0.2s; font-size:1.5em; }
  #cart span { position:absolute; top:-5px; right:-5px; background:orange; color:white; width:20px; height:20px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:0.8em; }

  /* Detailansicht fullscreen */
  #productDetail { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:white; z-index:2000; overflow:hidden; padding:20px; }
  #productDetail .topBar { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
  #productDetail h2 { font-size:1.5em; }
  #productDetail .preis { font-size:1.5em; text-align:center; margin:10px 0; }
  #productDetail .detailImgContainer { position:relative; width:100%; max-width:600px; margin:0 auto; overflow:hidden; border-radius:8px; }
  #productDetail .detailImgContainer img { width:100%; transition: transform 0.5s ease; }
  #productDetail .arrow { position:absolute; top:50%; transform:translateY(-50%); font-size:2em; color:black; background:rgba(255,255,255,0.5); border-radius:50%; padding:5px 10px; user-select:none; }
  #productDetail .arrow.left { left:10px; }
  #productDetail .arrow.right { right:10px; }
  #productDetail button { display:block; margin:20px auto; padding:12px 25px; background:#28a745; color:white; border:none; border-radius:5px; font-size:1em; }
  #productDetail button:hover { background:#218838; }
</style>
</head>
<body>

<!-- Startbildschirm -->
<div id="startScreen">
  <h1>Willkommen!</h1>
  <div>Bist du zum ersten Mal hier?</div>
  <button class="btn" onclick="showRegister()">Registrieren</button>
  <div>Du hast bereits ein Konto?</div>
  <button class="btn" onclick="showLogin()">Anmelden</button>
  <div class="linkBlue" onclick="enterShop()">Ohne Anmeldung fortfahren</div>
</div>

<!-- Registrieren -->
<div id="registerScreen" style="display:none;">
  <h2>Registrieren</h2>
  <div class="box">
    <input type="text" id="regVorname" placeholder="Vorname"><br>
    <input type="text" id="regNachname" placeholder="Nachname"><br>
    <input type="text" id="regAdresse" placeholder="StraÃŸe, Hausnummer, PLZ"><br>
    <input type="email" id="regEmail" placeholder="Email-Adresse"><br>
    <input type="password" id="regPass" placeholder="Passwort"><br>
    <input type="password" id="regPass2" placeholder="Passwort wiederholen"><br>
    <button class="btn" onclick="registerUser()">Registrieren</button>
    <div class="linkBlue" onclick="showLogin()">Bereits ein Konto? Anmelden</div>
  </div>
</div>

<!-- Anmelden -->
<div id="loginScreen" style="display:none;">
  <h2>Anmelden</h2>
  <div class="box">
    <input type="email" id="loginEmail" placeholder="Email-Adresse"><br>
    <input type="password" id="loginPass" placeholder="Passwort"><br>
    <button class="btn" onclick="loginUser()">Anmelden</button>
    <div class="linkBlue" onclick="showRegister()">Noch kein Konto? Registrieren</div>
  </div>
</div>

<!-- Shop -->
<div id="shop">
  <h1>Mein Shop</h1>
  <input type="text" id="searchBar" placeholder="Produkt suchen..." oninput="searchProducts()">
  <div class="produkte" id="produkteContainer">
    <!-- Produkte werden per JS erzeugt -->
  </div>
</div>

<!-- Detailansicht -->
<div id="productDetail">
  <div class="topBar">
    <h2 id="detailName">Produkt</h2>
    <button onclick="closeDetail()" style="padding:5px 10px;">ZurÃ¼ck</button>
  </div>
  <div class="detailImgContainer">
    <span class="arrow left" onclick="prevImage()">&#10094;</span>
    <img id="detailImage" src="" alt="Produktbild">
    <span class="arrow right" onclick="nextImage()">&#10095;</span>
  </div>
  <div class="preis" id="detailPrice">0,00 â‚¬</div>
  <button id="detailAddCart">In den Warenkorb</button>
</div>

<!-- Warenkorb -->
<div id="cart">ðŸ›’<span id="cartCount">0</span></div>

<script>
let products = [
  {name:"Produkt 1", preis:29.99, bilder:["https://via.placeholder.com/600x400?text=Produkt+1+Bild+1","https://via.placeholder.com/600x400?text=Produkt+1+Bild+2","https://via.placeholder.com/600x400?text=Produkt+1+Bild+3"]},
  {name:"Produkt 2", preis:19.99, bilder:["https://via.placeholder.com/600x400?text=Produkt+2+Bild+1","https://via.placeholder.com/600x400?text=Produkt+2+Bild+2","https://via.placeholder.com/600x400?text=Produkt+2+Bild+3"]},
  {name:"Produkt 3", preis:39.99, bilder:["https://via.placeholder.com/600x400?text=Produkt+3+Bild+1","https://via.placeholder.com/600x400?text=Produkt+3+Bild+2","https://via.placeholder.com/600x400?text=Produkt+3+Bild+3"]},
  {name:"Produkt 4", preis:59.99, bilder:["https://via.placeholder.com/600x400?text=Produkt+4+Bild+1","https://via.placeholder.com/600x400?text=Produkt+4+Bild+2","https://via.placeholder.com/600x400?text=Produkt+4+Bild+3"]},
  {name:"Produkt 5", preis:49.99, bilder:["https://via.placeholder.com/600x400?text=Produkt+5+Bild+1","https://via.placeholder.com/600x400?text=Produkt+5+Bild+2","https://via.placeholder.com/600x400?text=Produkt+5+Bild+3"]},
  {name:"Produkt 6", preis:24.99, bilder:["https://via.placeholder.com/600x400?text=Produkt+6+Bild+1","https://via.placeholder.com/600x400?text=Produkt+6+Bild+2","https://via.placeholder.com/600x400?text=Produkt+6+Bild+3"]}
];

let cart = [];
let currentDetailIndex = 0;
let currentImageIndex = 0;

function showRegister(){document.getElementById("startScreen").style.display="none"; document.getElementById("registerScreen").style.display="flex";}
function showLogin(){document.getElementById("startScreen").style.display="none"; document.getElementById("loginScreen").style.display="flex";}
function enterShop(){document.getElementById("startScreen").style.display="none"; document.getElementById("shop").style.display="block";}
function registerUser(){alert("Registrierung simuliert."); enterShop();}
function loginUser(){alert("Login simuliert."); enterShop();}

// Warenkorb anzeigen
document.getElementById("cart").addEventListener("click",()=>{alert(cart.length?cart.map(p=>p.name+" "+p.preis+" â‚¬").join("\n"):"Warenkorb leer")});

function renderProducts(filter=""){
  const container = document.getElementById("produkteContainer");
  container.innerHTML="";
  products.filter(p=>p.name.toLowerCase().includes(filter.toLowerCase())).forEach((p,index)=>{
    let div=document.createElement("div");
    div.className="produkt";
    div.innerHTML=`<img src="${p.bilder[0]}" alt="${p.name}">
                     <div class="name">${p.name}</div>
                     <div class="preis">${p.preis.toFixed(2)} â‚¬</div>
                     <button onclick="addToCart(${index}); event.stopPropagation()">In den Warenkorb</button>`;
    div.onclick=()=>openDetail(index);
    container.appendChild(div);
  });
}

function searchProducts(){
  let val=document.getElementById("searchBar").value;
  renderProducts(val);
}

function addToCart(index){
  cart.push(products[index]);
  document.getElementById("cartCount").textContent=cart.length;
}

function openDetail(index){
  currentDetailIndex=index;
  currentImageIndex=0;
  document.getElementById("productDetail").style.display="block";
  showDetail();
}

function showDetail(){
  const p=products[currentDetailIndex];
  document.getElementById("detailName").textContent=p.name;
  document.getElementById("detailPrice").textContent=p.preis.toFixed(2)+" â‚¬";
  document.getElementById("detailImage").src=p.bilder[currentImageIndex];
}

function closeDetail(){document.getElementById("productDetail").style.display="none";}
function nextImage(){currentImageIndex=(currentImageIndex+1)%products[currentDetailIndex].bilder.length; showDetail();}
function prevImage(){currentImageIndex=(currentImageIndex-1+products[currentDetailIndex].bilder.length-1)%products[currentDetailIndex].bilder.length; showDetail();}

document.getElementById("detailAddCart").addEventListener("click",()=>{addToCart(currentDetailIndex); alert(products[currentDetailIndex].name+" in den Warenkorb gelegt.");});

renderProducts();
</script>
</body>
</html>
