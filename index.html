<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mein Shop</title>
<style>
  body { font-family: Arial, sans-serif; background:#f9f9f9; margin:0; padding:0; overflow-x:hidden; }

  /* Start, Login, Register */
  #startScreen, #loginScreen, #registerScreen { display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; text-align:center; padding:0 10px; }
  .btn { padding:12px 25px; margin:10px; color:white; background:#28a745; border:none; border-radius:5px; cursor:pointer; font-size:1em; }
  .btn:hover { background:#218838; }
  .linkBlue { color:#007bff; cursor:pointer; text-decoration:underline; margin-top:15px; display:inline-block; }
  input { width:100%; max-width:250px; padding:8px; margin:5px 0; border:1px solid #ccc; border-radius:5px; box-sizing:border-box; }
  .box { background:white; padding:20px; border-radius:8px; border:1px solid #ccc; margin:10px; box-sizing:border-box; width:100%; max-width:350px; }

  /* Shop */
  #shop { display:none; padding:20px; max-width:900px; margin:auto; box-sizing:border-box; }
  h1 { text-align:center; margin-bottom:20px; font-size:1.8em; }
  .produkte { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
  .produkt { border:1px solid #ccc; border-radius:8px; width:42%; padding:10px; text-align:center; background:white; cursor:pointer; transition:0.3s; box-sizing:border-box; }
  .produkt:hover { box-shadow:0 0 10px #888; }
  .produkt img { width:100%; border-radius:5px; }
  .name { font-weight:bold; margin:10px 0 5px; }
  .preis { color:green; font-size:1.2em; margin-bottom:10px; }

  /* Warenkorb */
  #cart { position:fixed; top:50%; transform:translateY(-50%); width:60px; height:60px; background:white; border-radius:50%; border:3px solid orange; display:flex; align-items:center; justify-content:center; cursor:grab; z-index:1000; transition:left 0.2s, right 0.2s; }
  #cart span { position:absolute; top:-5px; right:-5px; background:orange; color:white; width:20px; height:20px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:0.8em; }

  /* Detailansicht fullscreen */
  #productDetail { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:white; z-index:2000; overflow-y:auto; padding:20px; box-sizing:border-box; }
  #productDetail h2 { text-align:center; margin-bottom:10px; font-size:1.5em; }
  #productDetail .preis { font-size:1.5em; text-align:center; margin:10px 0; color:green; }
  #productDetail .beschreibung { text-align:center; margin-bottom:20px; }
  #productDetail img { width:100%; max-width:600px; display:block; margin:10px auto; border-radius:8px; height:auto; object-fit:contain; }
  #productDetail button { display:block; margin:20px auto; padding:12px 25px; background:#28a745; border:none; color:white; border-radius:5px; font-size:1em; cursor:pointer; }
  #productDetail button:hover { background:#218838; }

  /* Slideshow */
  .slideshow-container { position:relative; max-width:600px; margin:auto; overflow:hidden; }
  .slides { display:flex; transition:transform 0.3s ease; }
  .slides img { min-width:100%; border-radius:8px; height:auto; object-fit:contain; }
  .prev, .next { cursor:pointer; position:absolute; top:50%; transform:translateY(-50%); padding:16px; color:white; font-weight:bold; font-size:18px; border-radius:50%; user-select:none; background:rgba(0,0,0,0.5); }
  .prev { left:10px; }
  .next { right:10px; }

  /* Responsive */
  @media (max-width:768px){
    .produkt { width:90%; }
    .slides { flex-direction:row; }
    #shop { padding:10px; }
    h1 { font-size:1.5em; }
    #productDetail h2 { font-size:1.3em; }
    .btn { font-size:0.95em; padding:10px 20px; }
  }
</style>
</head>
<body>

<!-- Startbildschirm -->
<div id="startScreen">
  <h1>Willkommen!</h1>
  <div>Bist du zum ersten Mal hier?</div>
  <button class="btn" onclick="showRegister()">Registrieren</button>
  <div>Du hast bereits ein Konto?</div>
  <button class="btn" onclick="showLogin()">Anmelden</button>
  <div class="linkBlue" onclick="enterShop()">Ohne Anmeldung fortfahren</div>
</div>

<!-- Registrieren -->
<div id="registerScreen" style="display:none;">
  <h2>Registrieren</h2>
  <div class="box">
    <input type="text" id="regVorname" placeholder="Vorname"><br>
    <input type="text" id="regNachname" placeholder="Nachname"><br>
    <input type="text" id="regAdresse" placeholder="StraÃŸe, Hausnummer, PLZ"><br>
    <input type="email" id="regEmail" placeholder="Email-Adresse"><br>
    <input type="password" id="regPass" placeholder="Passwort"><br>
    <input type="password" id="regPass2" placeholder="Passwort wiederholen"><br>
    <button class="btn" onclick="registerUser()">Registrieren</button>
    <div class="linkBlue" onclick="showLogin()">Bereits ein Konto? Anmelden</div>
  </div>
</div>

<!-- Anmelden -->
<div id="loginScreen" style="display:none;">
  <h2>Anmelden</h2>
  <div class="box">
    <input type="email" id="loginEmail" placeholder="Email-Adresse"><br>
    <input type="password" id="loginPass" placeholder="Passwort"><br>
    <button class="btn" onclick="loginUser()">Anmelden</button>
    <div class="linkBlue" onclick="showRegister()">Noch kein Konto? Registrieren</div>
  </div>
</div>

<!-- Shop -->
<div id="shop">
  <h1>Mein Shop</h1>
  <div class="produkte" id="produkteContainer">
    <!-- Produkte werden per JS geladen -->
  </div>
</div>

<!-- Detailansicht -->
<div id="productDetail">
  <h2 id="detailName"></h2>
  <div class="slideshow-container">
    <div class="slides" id="slides"></div>
    <div class="prev" onclick="changeSlide(-1)">&#10094;</div>
    <div class="next" onclick="changeSlide(1)">&#10095;</div>
  </div>
  <div class="preis" id="detailPreis"></div>
  <div class="beschreibung" id="detailDesc"></div>
  <button onclick="buyProduct(detailName.innerText)">Jetzt kaufen</button>
  <div class="linkBlue" onclick="closeDetail()">ZurÃ¼ck</div>
</div>

<!-- Warenkorb -->
<div id="cart" onmousedown="dragCart(event)">
  ðŸ›’<span id="cartCount">0</span>
</div>

<script>
  // Benutzerverwaltung (Dummy)
  function showRegister(){document.getElementById('startScreen').style.display='none';document.getElementById('registerScreen').style.display='flex';}
  function showLogin(){document.getElementById('startScreen').style.display='none';document.getElementById('loginScreen').style.display='flex';}
  function enterShop(){document.getElementById('startScreen').style.display='none';document.getElementById('shop').style.display='block';}
  function registerUser(){alert('Registrierung erfolgreich'); enterShop();}
  function loginUser(){alert('Anmeldung erfolgreich'); enterShop();}

  // Produkte
  const products=[
    {name:"Produkt 1",preis:"9,99 â‚¬",bilder:["https://via.placeholder.com/600x400?text=1-1","https://via.placeholder.com/600x400?text=1-2","https://via.placeholder.com/600x400?text=1-3"],desc:"Beschreibung Produkt 1"},
    {name:"Produkt 2",preis:"19,99 â‚¬",bilder:["https://via.placeholder.com/600x400?text=2-1","https://via.placeholder.com/600x400?text=2-2","https://via.placeholder.com/600x400?text=2-3"],desc:"Beschreibung Produkt 2"},
    {name:"Produkt 3",preis:"29,99 â‚¬",bilder:["https://via.placeholder.com/600x400?text=3-1","https://via.placeholder.com/600x400?text=3-2","https://via.placeholder.com/600x400?text=3-3"],desc:"Beschreibung Produkt 3"},
    {name:"Produkt 4",preis:"39,99 â‚¬",bilder:["https://via.placeholder.com/600x400?text=4-1","https://via.placeholder.com/600x400?text=4-2","https://via.placeholder.com/600x400?text=4-3"],desc:"Beschreibung Produkt 4"},
    {name:"Produkt 5",preis:"49,99 â‚¬",bilder:["https://via.placeholder.com/600x400?text=5-1","https://via.placeholder.com/600x400?text=5-2","https://via.placeholder.com/600x400?text=5-3"],desc:"Beschreibung Produkt 5"},
    {name:"Produkt 6",preis:"59,99 â‚¬",bilder:["https://via.placeholder.com/600x400?text=6-1","https://via.placeholder.com/600x400?text=6-2","https://via.placeholder.com/600x400?text=6-3"],desc:"Beschreibung Produkt 6"},
  ];

  const container=document.getElementById('produkteContainer');
  products.forEach(p=>{
    let div=document.createElement('div');
    div.className='produkt';
    div.innerHTML=`<img src="${p.bilder[0]}" alt="${p.name}"><div class="name">${p.name}</div><div class="preis">${p.preis}</div>`;
    div.onclick=()=>showDetail(p);
    container.appendChild(div);
  });

  // Detailansicht
  let currentSlides=[];
  let currentIndex=0;
  const slidesDiv=document.getElementById('slides');
  const detailName=document.getElementById('detailName');
  const detailPreis=document.getElementById('detailPreis');
  const detailDesc=document.getElementById('detailDesc');

  function showDetail(p){
    detailName.innerText=p.name;
    detailPreis.innerText=p.preis;
    detailDesc.innerText=p.desc;
    slidesDiv.innerHTML='';
    currentSlides=p.bilder;
    currentIndex=0;
    p.bilder.forEach(b=>{
      let img=document.createElement('img');
      img.src=b;
      slidesDiv.appendChild(img);
    });
    updateSlide();
    document.getElementById('productDetail').style.display='block';
  }
  function closeDetail(){document.getElementById('productDetail').style.display='none';}
  function updateSlide(){slidesDiv.style.transform=`translateX(-${currentIndex*100}%)`;}
  function changeSlide(n){
    currentIndex+=n;
    if(currentIndex<0)currentIndex=currentSlides.length-1;
    if(currentIndex>=currentSlides.length)currentIndex=0;
    updateSlide();
  }

  // Touch-Slideshow (mobil)
  let startX=0;
  slidesDiv.addEventListener('touchstart', e => startX = e.touches[0].clientX);
  slidesDiv.addEventListener('touchend', e => {
    let diff = e.changedTouches[0].clientX - startX;
    if(diff > 50) changeSlide(-1);
    else if(diff < -50) changeSlide(1);
  });

  // Warenkorb
  let cartCount=0;
  function buyProduct(name){cartCount++; document.getElementById('cartCount').innerText=cartCount; alert(name+' gekauft!');}

  // Drag Warenkorb
  let cart=document.getElementById('cart'),dragging=false,offsetX;
  cart.onmousedown=function(e){dragging=true; offsetX=e.clientX - cart.getBoundingClientRect().left;}
  document.onmousemove=function(e){
    if(!dragging) return;
    let x=e.clientX-offsetX;
    x=Math.max(0, Math.min(window.innerWidth - cart.offsetWidth, x));
    cart.style.left=x+'px'; cart.style.right='';
  }
  document.onmouseup=function(){dragging=false;}
</script>

</body>
</html>
