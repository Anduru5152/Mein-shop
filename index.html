<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mein Shop</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f9f9f9; }
  h1,h2 { text-align:center; }
  .btn { padding:12px 20px; margin:10px; background:#28a745; color:white; border:none; border-radius:5px; cursor:pointer; }
  .btn:hover { background:#218838; }
  .linkBlue { color:#007bff; cursor:pointer; text-decoration:underline; display:block; margin-top:10px; }

  input { padding:8px; border:1px solid #ccc; border-radius:5px; margin:5px 0; width:250px; }
  .box { background:white; padding:20px; border-radius:8px; border:1px solid #ccc; }

  /* Screens */
  #startScreen, #loginScreen, #registerScreen { display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; }

  /* Shop */
  #shop { display:none; padding:20px; max-width:1100px; margin:auto; }
  #searchBar { display:block; margin:0 auto 20px; padding:10px; width:80%; max-width:500px; border:1px solid #ccc; border-radius:5px; }
  .produkte { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
  .produkt { border:1px solid #ccc; border-radius:8px; width:30%; background:white; padding:10px; cursor:pointer; text-align:center; }
  .produkt:hover { box-shadow:0 0 10px #aaa; }
  .produkt img { width:100%; border-radius:5px; }
  .name { font-weight:bold; margin:10px 0 5px; }
  .preis { color:green; font-size:1.2em; margin-bottom:10px; }

  /* Warenkorb */
  #cart { position:fixed; bottom:20px; right:20px; width:60px; height:60px; background:white; border:3px solid orange; border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:30px; z-index:1000; }
  #cart span { position:absolute; top:-5px; right:-5px; background:orange; color:white; width:22px; height:22px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:0.8em; }

  /* Detailansicht */
  #productDetail { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:white; z-index:2000; overflow-y:auto; padding:20px; }
  #productDetail img { max-width:600px; width:100%; display:block; margin:10px auto; border-radius:8px; }
  .slideshow { text-align:center; }
  .slideshow button { margin:5px; padding:8px; }

  /* Warenkorbseite */
  #cartPage { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:white; z-index:2000; overflow-y:auto; padding:20px; }
  #cartPage h2 { margin-top:0; }
  #cartItems { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
  .cartItem { border:1px solid #ccc; border-radius:8px; width:30%; background:white; padding:10px; text-align:center; }
  .cartItem img { width:100%; border-radius:5px; }
  #totalPrice { text-align:center; font-size:1.3em; margin:20px 0; }
</style>
</head>
<body>

<!-- Start -->
<div id="startScreen">
  <h1>Willkommen!</h1>
  <button class="btn" onclick="showRegister()">Registrieren</button>
  <button class="btn" onclick="showLogin()">Anmelden</button>
  <div class="linkBlue" onclick="enterShop()">Ohne Anmeldung fortfahren</div>
</div>

<!-- Registrieren -->
<div id="registerScreen" style="display:none;">
  <h2>Registrieren</h2>
  <div class="box">
    <input type="text" id="regName" placeholder="Name"><br>
    <input type="email" id="regEmail" placeholder="Email"><br>
    <input type="password" id="regPass" placeholder="Passwort"><br>
    <input type="password" id="regPass2" placeholder="Passwort wiederholen"><br>
    <button class="btn" onclick="registerUser()">Registrieren</button>
    <div class="linkBlue" onclick="showLogin()">Bereits ein Konto? Anmelden</div>
  </div>
</div>

<!-- Anmelden -->
<div id="loginScreen" style="display:none;">
  <h2>Anmelden</h2>
  <div class="box">
    <input type="email" id="loginEmail" placeholder="Email"><br>
    <input type="password" id="loginPass" placeholder="Passwort"><br>
    <button class="btn" onclick="loginUser()">Anmelden</button>
    <div class="linkBlue" onclick="showRegister()">Noch kein Konto? Registrieren</div>
  </div>
</div>

<!-- Shop -->
<div id="shop">
  <h1>Mein Shop</h1>
  <input type="text" id="searchBar" placeholder="Produkte suchen..." onkeyup="searchProducts()">
  <div class="produkte" id="produkteContainer">
    <!-- Produkte -->
  </div>
</div>

<!-- Detail -->
<div id="productDetail">
  <h2 id="detailName"></h2>
  <div class="preis" id="detailPreis"></div>
  <div class="slideshow">
    <img id="detailImage" src="">
    <div>
      <button onclick="prevImage()">â—€</button>
      <button onclick="nextImage()">â–¶</button>
    </div>
  </div>
  <button class="btn" onclick="addToCart(currentProduct)">In den Warenkorb</button>
  <button class="btn" onclick="closeDetail()">ZurÃ¼ck</button>
</div>

<!-- Warenkorbseite -->
<div id="cartPage">
  <h2>Warenkorb</h2>
  <div id="cartItems"></div>
  <div id="totalPrice"></div>
  <button class="btn" onclick="buyAll()">Alle kaufen</button>
  <button class="btn" onclick="closeCartPage()">Weiter shoppen</button>
</div>

<!-- Warenkorb Icon -->
<div id="cart" onclick="openCartPage()">ðŸ›’<span id="cartCount">0</span></div>

<script>
let products = [
  {name:"Produkt 1", preis:29.99, bilder:["https://via.placeholder.com/600x400?text=Produkt+1+Bild+1","https://via.placeholder.com/600x400?text=Produkt+1+Bild+2"]},
  {name:"Produkt 2", preis:19.99, bilder:["https://via.placeholder.com/600x400?text=Produkt+2+Bild+1","https://via.placeholder.com/600x400?text=Produkt+2+Bild+2"]},
  {name:"Produkt 3", preis:39.99, bilder:["https://via.placeholder.com/600x400?text=Produkt+3+Bild+1","https://via.placeholder.com/600x400?text=Produkt+3+Bild+2"]},
  {name:"Produkt 4", preis:59.99, bilder:["https://via.placeholder.com/600x400?text=Produkt+4+Bild+1","https://via.placeholder.com/600x400?text=Produkt+4+Bild+2"]},
  {name:"Produkt 5", preis:49.99, bilder:["https://via.placeholder.com/600x400?text=Produkt+5+Bild+1","https://via.placeholder.com/600x400?text=Produkt+5+Bild+2"]},
  {name:"Produkt 6", preis:9.99, bilder:["https://via.placeholder.com/600x400?text=Produkt+6+Bild+1","https://via.placeholder.com/600x400?text=Produkt+6+Bild+2"]}
];

let cart = [];
let currentProduct = null;
let currentImageIndex = 0;

function showRegister(){ document.getElementById("startScreen").style.display="none"; document.getElementById("loginScreen").style.display="none"; document.getElementById("registerScreen").style.display="flex"; }
function showLogin(){ document.getElementById("startScreen").style.display="none"; document.getElementById("registerScreen").style.display="none"; document.getElementById("loginScreen").style.display="flex"; }
function enterShop(){ document.getElementById("startScreen").style.display="none"; document.getElementById("shop").style.display="block"; renderProducts(); }

function registerUser(){ alert("Registrierung erfolgreich!"); enterShop(); }
function loginUser(){ alert("Anmeldung erfolgreich!"); enterShop(); }

function renderProducts(){
  let c=document.getElementById("produkteContainer"); c.innerHTML="";
  products.forEach((p,i)=>{
    let d=document.createElement("div");
    d.className="produkt";
    d.innerHTML=`<img src="${p.bilder[0]}"><div class="name">${p.name}</div><div class="preis">${p.preis.toFixed(2)} â‚¬</div>`;
    d.onclick=()=>openDetail(p);
    c.appendChild(d);
  });
}

function openDetail(p){
  currentProduct=p; currentImageIndex=0;
  document.getElementById("detailName").innerText=p.name;
  document.getElementById("detailPreis").innerText=p.preis.toFixed(2)+" â‚¬";
  document.getElementById("detailImage").src=p.bilder[0];
  document.getElementById("productDetail").style.display="block";
}
function closeDetail(){ document.getElementById("productDetail").style.display="none"; }

function nextImage(){ if(currentProduct){ currentImageIndex=(currentImageIndex+1)%currentProduct.bilder.length; document.getElementById("detailImage").src=currentProduct.bilder[currentImageIndex]; } }
function prevImage(){ if(currentProduct){ currentImageIndex=(currentImageIndex-1+currentProduct.bilder.length)%currentProduct.bilder.length; document.getElementById("detailImage").src=currentProduct.bilder[currentImageIndex]; } }

function addToCart(p){ cart.push(p); updateCart(); alert(p.name+" wurde in den Warenkorb gelegt."); }
function updateCart(){ document.getElementById("cartCount").innerText=cart.length; }

function openCartPage(){
  document.getElementById("cartPage").style.display="block";
  let c=document.getElementById("cartItems"); c.innerHTML="";
  if(cart.length===0){ c.innerHTML="<p>Warenkorb leer</p>"; document.getElementById("totalPrice").innerText=""; return; }
  let sum=0;
  cart.forEach(p=>{ sum+=p.preis; c.innerHTML+=`<div class="cartItem"><img src="${p.bilder[0]}"><div class="name">${p.name}</div><div class="preis">${p.preis.toFixed(2)} â‚¬</div></div>`; });
  document.getElementById("totalPrice").innerText="Gesamtpreis: "+sum.toFixed(2)+" â‚¬";
}
function closeCartPage(){ document.getElementById("cartPage").style.display="none"; }

function buyAll(){ alert("Alle Produkte gekauft!"); cart=[]; updateCart(); closeCartPage(); }

function searchProducts(){
  let q=document.getElementById("searchBar").value.toLowerCase();
  let c=document.getElementById("produkteContainer"); c.innerHTML="";
  products.filter(p=>p.name.toLowerCase().includes(q)).forEach(p=>{
    let d=document.createElement("div");
    d.className="produkt";
    d.innerHTML=`<img src="${p.bilder[0]}"><div class="name">${p.name}</div><div class="preis">${p.preis.toFixed(2)} â‚¬</div>`;
    d.onclick=()=>openDetail(p);
    c.appendChild(d);
  });
}
</script>
</body>
</html>
