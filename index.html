<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mein Shop</title>
<style>
  body { font-family: Arial, sans-serif; background:#f9f9f9; margin:0; padding:0; }
  h1 { text-align:center; margin:20px 0; }

  /* Start/Login/Register */
  #startScreen, #loginScreen, #registerScreen {
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    height:100vh; text-align:center;
  }
  .btn { padding:12px 25px; margin:10px; color:white; background:#28a745; border:none; border-radius:5px; cursor:pointer; font-size:1em; }
  .btn:hover { background:#218838; }
  .linkBlue { color:#007bff; cursor:pointer; text-decoration:underline; margin-top:15px; display:inline-block; }
  input { width:250px; padding:8px; margin:5px 0; border:1px solid #ccc; border-radius:5px; }
  .box { background:white; padding:20px; border-radius:8px; border:1px solid #ccc; margin:10px; }

  /* Shop */
  #shop { display:none; padding:20px; max-width:1000px; margin:auto; }
  .produkte { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
  .produkt {
    border:1px solid #ccc; border-radius:8px; width:280px; padding:10px;
    text-align:center; background:white; cursor:pointer; transition:0.3s;
  }
  .produkt:hover { box-shadow:0 0 10px #888; }
  .produkt img { width:100%; border-radius:5px; }
  .name { font-weight:bold; margin:10px 0 5px; }
  .preis { color:green; font-size:1.2em; margin-bottom:10px; }

  /* Warenkorb-Button */
  #cart {
    position:fixed; top:50%; right:10px; transform:translateY(-50%);
    width:60px; height:60px; background:white; border-radius:50%;
    border:3px solid orange; display:flex; align-items:center; justify-content:center;
    cursor:pointer; z-index:1000;
  }
  #cart span {
    position:absolute; top:-5px; right:-5px; background:orange; color:white;
    width:20px; height:20px; border-radius:50%; display:flex; align-items:center;
    justify-content:center; font-size:0.8em;
  }

  /* Detailansicht fullscreen */
  #productDetail {
    display:none; position:fixed; top:0; left:0; width:100%; height:100%;
    background:white; z-index:2000; overflow-y:auto; padding:20px;
  }
  #productDetail h2 { text-align:center; }
  #productDetail .preis { font-size:1.5em; text-align:center; margin:10px 0; }
  #productDetail img { width:100%; max-width:600px; display:block; margin:10px auto; border-radius:8px; }

  /* Warenkorb-Seite fullscreen */
  #cartPage {
    display:none; position:fixed; top:0; left:0; width:100%; height:100%;
    background:white; z-index:2100; overflow-y:auto; padding:20px;
  }
  #cartPage h2 { text-align:center; margin-bottom:20px; }
  #cartItems { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
  .cartItem { border:1px solid #ccc; border-radius:8px; width:280px; padding:10px; text-align:center; background:white; }
  .cartItem img { width:100%; border-radius:5px; }
  #cartSummary { text-align:center; margin-top:20px; font-size:1.2em; }
</style>
</head>
<body>

<!-- Startbildschirm -->
<div id="startScreen">
  <h1>Willkommen!</h1>
  <div>Bist du zum ersten Mal hier?</div>
  <button class="btn" onclick="showRegister()">Registrieren</button>
  <div>Du hast bereits ein Konto?</div>
  <button class="btn" onclick="showLogin()">Anmelden</button>
  <div class="linkBlue" onclick="enterShop()">Ohne Anmeldung fortfahren</div>
</div>

<!-- Registrieren -->
<div id="registerScreen" style="display:none;">
  <h2>Registrieren</h2>
  <div class="box">
    <input type="text" id="regVorname" placeholder="Vorname"><br>
    <input type="text" id="regNachname" placeholder="Nachname"><br>
    <input type="text" id="regAdresse" placeholder="Straße, Hausnummer, PLZ"><br>
    <input type="email" id="regEmail" placeholder="Email-Adresse"><br>
    <input type="password" id="regPass" placeholder="Passwort"><br>
    <input type="password" id="regPass2" placeholder="Passwort wiederholen"><br>
    <button class="btn" onclick="registerUser()">Registrieren</button>
    <div class="linkBlue" onclick="showLogin()">Bereits ein Konto? Anmelden</div>
  </div>
</div>

<!-- Anmelden -->
<div id="loginScreen" style="display:none;">
  <h2>Anmelden</h2>
  <div class="box">
    <input type="email" id="loginEmail" placeholder="Email-Adresse"><br>
    <input type="password" id="loginPass" placeholder="Passwort"><br>
    <button class="btn" onclick="loginUser()">Anmelden</button>
    <div class="linkBlue" onclick="showRegister()">Noch kein Konto? Registrieren</div>
  </div>
</div>

<!-- Shop -->
<div id="shop">
  <h1>Mein Shop</h1>
  <div class="produkte" id="produkteContainer"></div>
</div>

<!-- Warenkorb-Button -->
<div id="cart" onclick="openCart()"><img src="https://img.icons8.com/ios-filled/30/000000/shopping-cart.png"/><span id="cartCount">0</span></div>

<!-- Detailansicht -->
<div id="productDetail">
  <h2 id="detailName"></h2>
  <div class="preis" id="detailPreis"></div>
  <div id="detailImages"></div>
  <button class="btn" onclick="addToCart(currentProduct)">In den Warenkorb legen</button>
  <button class="btn" style="background:#007bff;" onclick="closeDetail()">Zurück</button>
</div>

<!-- Warenkorb-Seite -->
<div id="cartPage">
  <h2>Dein Warenkorb</h2>
  <div id="cartItems"></div>
  <div id="cartSummary"></div>
  <button class="btn" onclick="buyAll()">Alle Produkte kaufen</button>
  <button class="btn" style="background:#007bff;" onclick="closeCart()">Weiter shoppen</button>
</div>

<script>
let users = [];
let currentUser = null;
let currentProduct = null;
let cart = [];

// Produkte
const produkte = [
  {name:"Produkt 1", preis:29.99, bilder:["https://via.placeholder.com/300x200?text=Produkt+1"]},
  {name:"Produkt 2", preis:19.99, bilder:["https://via.placeholder.com/300x200?text=Produkt+2"]},
  {name:"Produkt 3", preis:39.99, bilder:["https://via.placeholder.com/300x200?text=Produkt+3"]},
  {name:"Produkt 4", preis:59.99, bilder:["https://via.placeholder.com/300x200?text=Produkt+4"]},
  {name:"Produkt 5", preis:49.99, bilder:["https://via.placeholder.com/300x200?text=Produkt+5"]},
  {name:"Produkt 6", preis:9.99,  bilder:["https://via.placeholder.com/300x200?text=Produkt+6"]}
];

// Shop laden
const container=document.getElementById("produkteContainer");
produkte.forEach((p,i)=>{
  const div=document.createElement("div");
  div.className="produkt";
  div.innerHTML=`<img src="${p.bilder[0]}" alt="${p.name}">
                 <div class="name">${p.name}</div>
                 <div class="preis">${p.preis.toFixed(2)} €</div>`;
  div.onclick=()=>openDetail(p);
  container.appendChild(div);
});

// Login/Register
function showRegister(){ document.getElementById("startScreen").style.display="none"; document.getElementById("loginScreen").style.display="none"; document.getElementById("registerScreen").style.display="flex"; }
function showLogin(){ document.getElementById("startScreen").style.display="none"; document.getElementById("registerScreen").style.display="none"; document.getElementById("loginScreen").style.display="flex"; }
function enterShop(){ document.getElementById("startScreen").style.display="none"; document.getElementById("shop").style.display="block"; }

function registerUser(){
  const email=document.getElementById("regEmail").value;
  const pass=document.getElementById("regPass").value;
  const pass2=document.getElementById("regPass2").value;
  if(pass!==pass2) return alert("Passwörter stimmen nicht überein!");
  if(users.find(u=>u.email===email)) return alert("Email schon registriert!");
  users.push({email:email,pass:pass});
  alert("Erfolgreich registriert!");
  showLogin();
}
function loginUser(){
  const email=document.getElementById("loginEmail").value;
  const pass=document.getElementById("loginPass").value;
  const user=users.find(u=>u.email===email && u.pass===pass);
  if(!user) return alert("Falsche Daten!");
  currentUser=user;
  document.getElementById("loginScreen").style.display="none";
  document.getElementById("shop").style.display="block";
}

// Produktdetails
function openDetail(p){
  currentProduct=p;
  document.getElementById("detailName").innerText=p.name;
  document.getElementById("detailPreis").innerText=p.preis.toFixed(2)+" €";
  document.getElementById("detailImages").innerHTML=p.bilder.map(src=>`<img src="${src}">`).join("");
  document.getElementById("productDetail").style.display="block";
}
function closeDetail(){ document.getElementById("productDetail").style.display="none"; }

// Warenkorb
function addToCart(p){
  cart.push(p);
  document.getElementById("cartCount").innerText=cart.length;
  alert(p.name+" wurde in den Warenkorb gelegt!");
  closeDetail();
}
function openCart(){
  document.getElementById("cartItems").innerHTML="";
  let total=0;
  cart.forEach((p,i)=>{
    const div=document.createElement("div");
    div.className="cartItem";
    div.innerHTML=`<img src="${p.bilder[0]}"><div class="name">${p.name}</div><div class="preis">${p.preis.toFixed(2)} €</div>
                   <button class="btn" onclick="buyProduct(${i})">Jetzt kaufen</button>`;
    document.getElementById("cartItems").appendChild(div);
    total+=p.preis;
  });
  document.getElementById("cartSummary").innerText="Gesamt: "+total.toFixed(2)+" €";
  document.getElementById("cartPage").style.display="block";
}
function closeCart(){ document.getElementById("cartPage").style.display="none"; }
function buyProduct(i){
  alert("Du hast "+cart[i].name+" gekauft!");
  cart.splice(i,1);
  document.getElementById("cartCount").innerText=cart.length;
  openCart();
}
function buyAll(){
  if(cart.length===0) return alert("Dein Warenkorb ist leer!");
  alert("Du hast alle Produkte gekauft!");
  cart=[];
  document.getElementById("cartCount").innerText=0;
  closeCart();
}
</script>
</body>
</html>
