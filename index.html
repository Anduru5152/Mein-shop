<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mein Shop</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f9f9f9; }
  .screen { display:none; padding:40px; text-align:center; }
  .visible { display:block; }
  h1 { margin-bottom:20px; }
  .btn { padding:15px 25px; margin:10px; border:none; border-radius:8px; cursor:pointer; font-size:1em; color:white; }
  .btn.green { background:#28a745; }
  .btn.blue { background:#007bff; }
  .form-box { display:inline-block; background:white; border:1px solid #ccc; padding:20px; border-radius:10px; text-align:left; min-width:300px; }
  .form-box input { width:100%; padding:8px; margin:8px 0; border:1px solid #ccc; border-radius:5px; }
  .form-box label { display:block; margin-top:10px; color:#555; }
  
  /* Shop */
  #shopScreen { padding:20px; }
  .search-bar { margin-bottom:20px; text-align:center; }
  .search-bar input { width:70%; padding:10px; border-radius:5px; border:1px solid #ccc; }
  .produkte { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
  .produkt { background:white; border-radius:10px; width:300px; padding:15px; text-align:center; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
  .produkt img { width:100%; border-radius:8px; }
  .name { font-weight:bold; margin:10px 0; }
  .preis { color:green; font-size:1.2em; margin-bottom:10px; }
  .btn.buy { background:#28a745; width:100%; }

  /* Warenkorb */
  #cart { position:fixed; bottom:20px; right:20px; width:60px; height:60px; background:white; border:2px solid orange; border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; z-index:1000; }
  #cart span { position:absolute; top:-10px; right:-10px; background:orange; color:white; font-weight:bold; border-radius:50%; width:20px; height:20px; display:flex; align-items:center; justify-content:center; font-size:0.9em; }

</style>
</head>
<body>

<!-- Startbildschirm -->
<div id="startScreen" class="screen visible">
  <h1>Willkommen!</h1>
  <p>Bist du zum ersten Mal hier?</p>
  <button class="btn green" onclick="showRegister()">Registrieren</button>
  <p>Du hast bereits ein Konto?</p>
  <button class="btn green" onclick="showLogin()">Anmelden</button>
  <p><button class="btn blue" onclick="enterShop()">Ohne Anmeldung fortfahren</button></p>
</div>

<!-- Registrieren -->
<div id="registerScreen" class="screen">
  <h1>Registrieren</h1>
  <div class="form-box">
    <label>Vorname:</label><input type="text" id="regVorname">
    <label>Nachname:</label><input type="text" id="regNachname">
    <label>StraÃŸe, Hausnummer, Postleitzahl:</label><input type="text" id="regAdresse">
    <label>Email-Adresse:</label><input type="email" id="regEmail">
    <label>Passwort:</label><input type="password" id="regPass">
    <label>Passwort wiederholen:</label><input type="password" id="regPass2">
    <button class="btn green" onclick="registerUser()">Registrieren</button>
    <p><button class="btn blue" onclick="showStart()">ZurÃ¼ck</button></p>
  </div>
</div>

<!-- Login -->
<div id="loginScreen" class="screen">
  <h1>Anmelden</h1>
  <div class="form-box">
    <label>Email-Adresse:</label><input type="email" id="loginEmail">
    <label>Passwort:</label><input type="password" id="loginPass">
    <button class="btn green" onclick="loginUser()">Anmelden</button>
    <p><button class="btn blue" onclick="showStart()">ZurÃ¼ck</button></p>
  </div>
</div>

<!-- Shop -->
<div id="shopScreen" class="screen">
  <h1>Mein Shop</h1>
  <div class="search-bar"><input type="text" id="searchInput" onkeyup="searchProducts()" placeholder="Produkt suchen..."></div>
  <div class="produkte" id="productsContainer">
    <!-- Produkte -->
    <div class="produkt" data-name="Produkt 1">
      <img src="https://via.placeholder.com/300x200?text=Produkt+1">
      <div class="name">Produkt 1</div>
      <div class="preis">29,99 â‚¬</div>
      <button class="btn buy" onclick="buyProduct('Produkt 1')">Jetzt kaufen</button>
    </div>
    <div class="produkt" data-name="Produkt 2">
      <img src="https://via.placeholder.com/300x200?text=Produkt+2">
      <div class="name">Produkt 2</div>
      <div class="preis">19,99 â‚¬</div>
      <button class="btn buy" onclick="buyProduct('Produkt 2')">Jetzt kaufen</button>
    </div>
    <div class="produkt" data-name="Produkt 3">
      <img src="https://via.placeholder.com/300x200?text=Produkt+3">
      <div class="name">Produkt 3</div>
      <div class="preis">39,99 â‚¬</div>
      <button class="btn buy" onclick="buyProduct('Produkt 3')">Jetzt kaufen</button>
    </div>
    <div class="produkt" data-name="Produkt 4">
      <img src="https://via.placeholder.com/300x200?text=Produkt+4">
      <div class="name">Produkt 4</div>
      <div class="preis">24,99 â‚¬</div>
      <button class="btn buy" onclick="buyProduct('Produkt 4')">Jetzt kaufen</button>
    </div>
    <div class="produkt" data-name="Produkt 5">
      <img src="https://via.placeholder.com/300x200?text=Produkt+5">
      <div class="name">Produkt 5</div>
      <div class="preis">14,99 â‚¬</div>
      <button class="btn buy" onclick="buyProduct('Produkt 5')">Jetzt kaufen</button>
    </div>
    <div class="produkt" data-name="Produkt 6">
      <img src="https://via.placeholder.com/300x200?text=Produkt+6">
      <div class="name">Produkt 6</div>
      <div class="preis">49,99 â‚¬</div>
      <button class="btn buy" onclick="buyProduct('Produkt 6')">Jetzt kaufen</button>
    </div>
  </div>
</div>

<!-- Warenkorb -->
<div id="cart">
  ðŸ›’
  <span id="cartCount" style="display:none;">0</span>
</div>

<script>
let users = [];
let loggedIn = false;
let cartCount = 0;

// Screens
function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('visible'));
  document.getElementById(id).classList.add('visible');
}
function showStart(){ showScreen('startScreen'); }
function showRegister(){ showScreen('registerScreen'); }
function showLogin(){ showScreen('loginScreen'); }
function enterShop(){ showScreen('shopScreen'); loggedIn=true; }

// Registration
function registerUser(){
  let email = document.getElementById('regEmail').value;
  let pass = document.getElementById('regPass').value;
  let pass2 = document.getElementById('regPass2').value;
  if(!email || !pass || !pass2){ alert('Alle Felder ausfÃ¼llen!'); return; }
  if(pass!==pass2){ alert('PasswÃ¶rter stimmen nicht Ã¼berein!'); return; }
  if(users.find(u=>u.email===email)){ alert('Email bereits vorhanden!'); return; }
  users.push({email, pass});
  alert('Erfolgreiche Registrierung!\nSie haben sich erfolgreich einen Account zugelegt, viel SpaÃŸ beim Shopen!');
  showLogin();
}

// Login
function loginUser(){
  let email = document.getElementById('loginEmail').value;
  let pass = document.getElementById('loginPass').value;
  let user = users.find(u=>u.email===email && u.pass===pass);
  if(user){ loggedIn=true; showScreen('shopScreen'); } 
  else{ alert('Falsche Daten!'); }
}

// Warenkorb
function buyProduct(name){
  if(!loggedIn){ showLogin(); window.scrollTo(0,0); return; }
  cartCount++;
  let cartSpan = document.getElementById('cartCount');
  cartSpan.style.display='flex';
  cartSpan.innerText = cartCount;
  window.location.href = "mailto:online.shop551552@gmail.com?subject=Bestellung&body=Ich mÃ¶chte "+encodeURIComponent(name)+" kaufen";
}

// Search
function searchProducts(){
  let input = document.getElementById('searchInput').value.toLowerCase();
  document.querySelectorAll('.produkt').forEach(p=>{
    let name = p.getAttribute('data-name').toLowerCase();
    p.style.display = name.includes(input)?'block':'none';
  });
}

// Warenkorb verschiebbar
let cart = document.getElementById('cart');
let isDragging=false, offsetX, offsetY;
cart.addEventListener('mousedown', e=>{
  isDragging=true;
  offsetX=e.clientX - cart.offsetLeft;
  offsetY=e.clientY - cart.offsetTop;
});
document.addEventListener('mousemove', e=>{
  if(isDragging){
    let x=e.clientX - offsetX;
    let y=e.clientY - offsetY;
    x=Math.min(window.innerWidth-60, Math.max(0,x));
    y=Math.min(window.innerHeight-60, Math.max(0,y));
    cart.style.left=x+'px';
    cart.style.top=y+'px';
    cart.style.bottom='auto';
    cart.style.right='auto';
  }
});
document.addEventListener('mouseup', ()=>{isDragging=false;});
</script>

</body>
</html>
