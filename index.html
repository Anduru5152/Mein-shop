<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mein Shop</title>
<style>
body { font-family: Arial, sans-serif; background:#f0f0f0; margin:0; padding:0; }
h1,h2 { text-align:center; margin-bottom:20px; }
button { cursor:pointer; border:none; border-radius:5px; padding:10px; font-size:1em; }
button:hover { opacity:0.9; }
input { width:100%; padding:10px; margin:5px 0 15px 0; border:1px solid #ccc; border-radius:5px; box-sizing:border-box; color:#333; }
input::placeholder { color:#aaa; }

.center-box { max-width:400px; margin:50px auto; padding:20px; background:white; border:1px solid #ccc; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,0.1); }

.green-btn { background:#28a745; color:white; width:100%; margin-bottom:10px; }
#startScreen p span { color:#0066cc; cursor:pointer; }

#loginScreen, #registerScreen, #shopSection { display:none; }

#shopSection { max-width:900px; margin:20px auto; padding:20px; background:#f9f9f9; }
.search-cart { display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; }
#searchInput { width:70%; padding:8px; border-radius:5px; border:1px solid #ccc; }
.cart { position:relative; font-size:1.5em; cursor:pointer; }
#cartCountBadge { position:absolute; bottom:-5px; right:-10px; background-color:#ff6600; color:white; border-radius:50%; width:18px; height:18px; font-size:0.75em; font-weight:bold; text-align:center; line-height:18px; display:none; }

.produkte { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
.produkt { border:1px solid #ccc; border-radius:8px; width:42%; box-sizing:border-box; padding:10px; text-align:center; cursor:pointer; transition:box-shadow 0.3s; background:white; }
.produkt:hover { box-shadow:0 0 10px #888; }
.produkt img { max-width:100%; border-radius:5px; }
.name { font-weight:bold; margin:10px 0 5px; }
.preis { color:green; font-size:1.2em; margin-bottom:10px; }
button.kaufen { background-color:#28a745; color:white; border:none; padding:8px 12px; border-radius:5px; cursor:pointer; font-size:1em; }
button.kaufen:hover { background-color:#218838; }

footer { text-align:center; margin-top:40px; padding:20px 0; border-top:1px solid #ccc; font-size:0.9em; color:#555; }

@media(max-width:500px){ .produkt{ width:100%; } #searchInput{ width:60%; } }
</style>
</head>
<body>

<!-- STARTSCREEN -->
<div id="startScreen" class="center-box">
  <h1>Willkommen!</h1>
  <p>Bist du zum ersten Mal hier?</p>
  <button class="green-btn" onclick="showRegister()">Registrieren</button>
  <p>Du hast bereits ein Konto?</p>
  <button class="green-btn" onclick="showLogin()">Anmelden</button>
  <p style="text-align:center; margin-top:15px;">
    <span onclick="skipLogin()">Ohne Anmeldung fortfahren</span>
  </p>
</div>

<!-- REGISTRIERUNG -->
<div id="registerScreen" class="center-box">
  <h2>Registrierung</h2>
  <p>Bitte f√ºllen Sie alle Felder aus!</p>
  <input type="text" id="regFirst" placeholder="Vorname">
  <input type="text" id="regLast" placeholder="Nachname">
  <input type="text" id="regAddress" placeholder="Stra√üe, Hausnummer, Postleitzahl">
  <input type="email" id="regEmail" placeholder="E-Mail-Adresse">
  <input type="password" id="regPassword" placeholder="Passwort">
  <input type="password" id="regPassword2" placeholder="Passwort wiederholen">
  <button class="green-btn" onclick="register()">Registrieren</button>
  <div style="text-align:center; margin-top:10px;">
    <span style="color:#0066cc; cursor:pointer;" onclick="backToStart()">Zur√ºck</span>
  </div>
</div>

<!-- LOGIN -->
<div id="loginScreen" class="center-box">
  <h2>Anmelden</h2>
  <p>Bitte geben Sie die Daten ein, die Sie bei der Registrierung benutzt haben!</p>
  <input type="email" id="loginEmail" placeholder="E-Mail-Adresse">
  <input type="password" id="loginPassword" placeholder="Passwort">
  <button class="green-btn" onclick="login()">Anmelden</button>
  <div style="text-align:center; margin-top:10px;">
    <span style="color:#0066cc; cursor:pointer;" onclick="backToStart()">Zur√ºck</span>
  </div>
</div>

<!-- SHOP -->
<div id="shopSection">
  <h1>Mein Shop</h1>

  <div class="search-cart">
    <input type="text" id="searchInput" placeholder="Produkt suchen..." onkeyup="searchProducts()">
    <div class="cart" id="cartIcon">
      üõí
      <span id="cartCountBadge"></span>
    </div>
  </div>

  <div class="produkte" id="produkteContainer">
    <div class="produkt" data-name="Produkt 1">
      <img src="https://via.placeholder.com/300x200?text=Produkt+1" alt="Produkt 1">
      <div class="name">Produkt 1</div>
      <div class="preis">29,99 ‚Ç¨</div>
      <button class="kaufen" onclick="buyProduct('Produkt 1')">Jetzt kaufen</button>
    </div>
    <div class="produkt" data-name="Produkt 2">
      <img src="https://via.placeholder.com/300x200?text=Produkt+2" alt="Produkt 2">
      <div class="name">Produkt 2</div>
      <div class="preis">19,99 ‚Ç¨</div>
      <button class="kaufen" onclick="buyProduct('Produkt 2')">Jetzt kaufen</button>
    </div>
    <div class="produkt" data-name="Produkt 3">
      <img src="https://via.placeholder.com/300x200?text=Produkt+3" alt="Produkt 3">
      <div class="name">Produkt 3</div>
      <div class="preis">39,99 ‚Ç¨</div>
      <button class="kaufen" onclick="buyProduct('Produkt 3')">Jetzt kaufen</button>
    </div>
    <div class="produkt" data-name="Produkt 4">
      <img src="https://via.placeholder.com/300x200?text=Produkt+4" alt="Produkt 4">
      <div class="name">Produkt 4</div>
      <div class="preis">24,99 ‚Ç¨</div>
      <button class="kaufen" onclick="buyProduct('Produkt 4')">Jetzt kaufen</button>
    </div>
    <div class="produkt" data-name="Produkt 5">
      <img src="https://via.placeholder.com/300x200?text=Produkt+5" alt="Produkt 5">
      <div class="name">Produkt 5</div>
      <div class="preis">14,99 ‚Ç¨</div>
      <button class="kaufen" onclick="buyProduct('Produkt 5')">Jetzt kaufen</button>
    </div>
    <div class="produkt" data-name="Produkt 6">
      <img src="https://via.placeholder.com/300x200?text=Produkt+6" alt="Produkt 6">
      <div class="name">Produkt 6</div>
      <div class="preis">49,99 ‚Ç¨</div>
      <button class="kaufen" onclick="buyProduct('Produkt 6')">Jetzt kaufen</button>
    </div>
  </div>

  <footer>
    &copy; 2025 Mein Shop | Alle Rechte vorbehalten | 
    <a href="#">Datenschutz</a> | 
    <a href="#">Impressum</a>
  </footer>
</div>

<script>
// Startscreen
function showRegister(){ document.getElementById('startScreen').style.display='none'; document.getElementById('registerScreen').style.display='block'; }
function showLogin(){ document.getElementById('startScreen').style.display='none'; document.getElementById('loginScreen').style.display='block'; }
function backToStart(){ document.getElementById('registerScreen').style.display='none'; document.getElementById('loginScreen').style.display='none'; document.getElementById('startScreen').style.display='block'; }
function skipLogin(){ document.getElementById('startScreen').style.display='none'; document.getElementById('shopSection').style.display='block'; }

// Registrierung
function register(){
  const first=document.getElementById('regFirst').value;
  const last=document.getElementById('regLast').value;
  const address=document.getElementById('regAddress').value;
  const email=document.getElementById('regEmail').value;
  const pass=document.getElementById('regPassword').value;
  const pass2=document.getElementById('regPassword2').value;

  if(!first||!last||!address||!email||!pass||!pass2){ alert("Bitte alle Felder ausf√ºllen!"); return; }
  if(pass!==pass2){ alert("Passw√∂rter stimmen nicht √ºberein!"); return; }

  const users=JSON.parse(localStorage.getItem('users')||"[]");
  if(users.some(u=>u.email===email)){ alert("Diese E-Mail wird bereits verwendet!"); return; }
  if(users.some(u=>u.address===address)){ alert("Diese Adresse ist bereits registriert!"); return; }

  users.push({first,last,address,email,password:pass});
  localStorage.setItem('users',JSON.stringify(users));
  alert("Registrierung erfolgreich!");
  document.getElementById('registerScreen').style.display='none';
  document.getElementById('shopSection').style.display='block';
}

// Login
function login(){
  const email=document.getElementById('loginEmail').value;
  const pass=document.getElementById('loginPassword').value;
  const users=JSON.parse(localStorage.getItem('users')||"[]");
  const user=users.find(u=>u.email===email && u.password===pass);
  if(!user){ alert("Falsche Daten!"); return; }
  document.getElementById('loginScreen').style.display='none';
  document.getElementById('shopSection').style.display='block';
}

// Einkaufswagen
let cartCount=0;
function buyProduct(name){
  const users=JSON.parse(localStorage.getItem('users')||"[]");
  if(users.length===0){ alert("Bitte melden Sie sich an, um zu kaufen."); showLogin(); return; }

  cartCount++;
  const badge=document.getElementById('cartCountBadge');
  badge.innerText=cartCount;
  badge.style.display='inline-block';
  window.location.href=`mailto:online.shop551552@gmail.com?subject=Bestellung&body=Hallo, ich m√∂chte ${encodeURIComponent(name)} kaufen üòÅ`;
}

// Suche
function searchProducts(){
  const input=document.getElementById('searchInput').value.toLowerCase();
  const products=document.getElementById('produkteContainer').children;
  for(let prod of products){
    const name=prod.getAttribute('data-name').toLowerCase();
    prod.style.display=name.includes(input)?'block':'none';
  }
}
</script>

</body>
</html>
