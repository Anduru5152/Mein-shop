<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mein Shop</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f9f9f9; }
  h1,h2 { text-align:center; }
  /* Startbildschirm */
  #startScreen, #loginScreen, #registerScreen { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:#f9f9f9; z-index:1000; overflow:auto; padding:20px; box-sizing:border-box; }
  .box { max-width:400px; margin:50px auto; padding:20px; background:white; border:1px solid #ccc; border-radius:8px; }
  .btn { display:block; width:100%; padding:10px; margin:10px 0; border:none; border-radius:5px; cursor:pointer; font-size:1em; color:white; background:#28a745; }
  .btn.blue { background:#007bff; color:white; }
  input { width:100%; padding:8px; margin:5px 0 15px 0; border:1px solid #ccc; border-radius:5px; }
  /* Shop */
  #shop { display:none; padding:20px; max-width:900px; margin:auto; }
  .produkte { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
  .produkt { border:1px solid #ccc; border-radius:8px; width:42%; box-sizing:border-box; padding:10px; text-align:center; background:white; transition:0.3s; cursor:pointer; }
  .produkt:hover { box-shadow:0 0 10px #888; }
  .produkt img { max-width:100%; border-radius:5px; }
  .name { font-weight:bold; margin:10px 0 5px; }
  .preis { color:green; font-size:1.2em; margin-bottom:10px; }
  .beschreibung { font-size:0.9em; margin-top:10px; }
  .btn-buy { background:#28a745; color:white; padding:8px 12px; border:none; border-radius:5px; cursor:pointer; }
  .btn-buy:hover { background:#218838; }
  /* Suchleiste */
  #searchBar { width:70%; padding:8px; border:1px solid #ccc; border-radius:5px; margin-bottom:20px; }
  /* Footer */
  footer { text-align:center; margin-top:40px; padding:20px 0; border-top:1px solid #ccc; font-size:0.9em; color:#555; }
  /* Warenkorb */
  #cart { position:fixed; bottom:20px; right:20px; width:60px; height:60px; background:white; border-radius:50%; border:1px solid #ccc; display:flex; align-items:center; justify-content:center; cursor:grab; z-index:1000; }
  #cartCount { position:absolute; top:-5px; right:-5px; background:#ff6600; color:white; width:20px; height:20px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:0.8em; }
</style>
</head>
<body>

<!-- Startbildschirm -->
<div id="startScreen">
  <h1>Willkommen!</h1>
  <div class="box">
    <button class="btn" onclick="showLogin()">Anmelden</button>
    <button class="btn" onclick="showRegister()">Registrieren</button>
    <button class="btn blue" onclick="enterShop()">Ohne Anmeldung fortfahren</button>
  </div>
</div>

<!-- Registrieren -->
<div id="registerScreen">
  <h2>Registrieren</h2>
  <div class="box">
    <input type="text" id="regVorname" placeholder="Vorname">
    <input type="text" id="regNachname" placeholder="Nachname">
    <input type="text" id="regAdresse" placeholder="Stra√üe, Hausnummer, Postleitzahl">
    <input type="email" id="regEmail" placeholder="Email-Adresse">
    <input type="password" id="regPasswort" placeholder="Passwort">
    <input type="password" id="regPasswort2" placeholder="Passwort wiederholen">
    <button class="btn" onclick="registerUser()">Registrieren</button>
    <button class="btn blue" onclick="showLogin()">Zur√ºck</button>
  </div>
</div>

<!-- Anmelden -->
<div id="loginScreen">
  <h2>Anmelden</h2>
  <div class="box">
    <input type="email" id="loginEmail" placeholder="Email-Adresse">
    <input type="password" id="loginPasswort" placeholder="Passwort">
    <button class="btn" onclick="loginUser()">Anmelden</button>
    <button class="btn blue" onclick="enterShop()">Ohne Anmeldung fortfahren</button>
  </div>
</div>

<!-- Shop -->
<div id="shop">
  <h1>Mein Shop</h1>
  <input type="text" id="searchBar" onkeyup="searchProducts()" placeholder="Produkt suchen...">
  <div class="produkte" id="produkteContainer">
    <!-- Beispielprodukt -->
    <div class="produkt" data-name="Produkt 1">
      <img src="https://via.placeholder.com/300x200?text=Produkt+1" alt="Produkt 1">
      <div class="name">Produkt 1</div>
      <div class="preis">29,99 ‚Ç¨</div>
      <div class="beschreibung">Beschreibung f√ºr Produkt 1.</div>
      <button class="btn-buy" onclick="buyProduct('Produkt 1')">Jetzt kaufen</button>
    </div>
    <div class="produkt" data-name="Produkt 2">
      <img src="https://via.placeholder.com/300x200?text=Produkt+2" alt="Produkt 2">
      <div class="name">Produkt 2</div>
      <div class="preis">19,99 ‚Ç¨</div>
      <div class="beschreibung">Beschreibung f√ºr Produkt 2.</div>
      <button class="btn-buy" onclick="buyProduct('Produkt 2')">Jetzt kaufen</button>
    </div>
    <div class="produkt" data-name="Produkt 3">
      <img src="https://via.placeholder.com/300x200?text=Produkt+3" alt="Produkt 3">
      <div class="name">Produkt 3</div>
      <div class="preis">39,99 ‚Ç¨</div>
      <div class="beschreibung">Beschreibung f√ºr Produkt 3.</div>
      <button class="btn-buy" onclick="buyProduct('Produkt 3')">Jetzt kaufen</button>
    </div>
  </div>
</div>

<!-- Warenkorb -->
<div id="cart">üõí<div id="cartCount" style="display:none;">0</div></div>

<footer>
  &copy; 2025 Mein Shop | Alle Rechte vorbehalten | <a href="#">Datenschutz</a> | <a href="#">Impressum</a>
</footer>

<script>
let users = [];
let loggedIn = false;
let cart = 0;

/* Anzeigen */
function showLogin(){ document.getElementById('startScreen').style.display='none'; document.getElementById('registerScreen').style.display='none'; document.getElementById('loginScreen').style.display='block'; }
function showRegister(){ document.getElementById('startScreen').style.display='none'; document.getElementById('loginScreen').style.display='none'; document.getElementById('registerScreen').style.display='block'; }
function enterShop(){ document.getElementById('startScreen').style.display='none'; document.getElementById('loginScreen').style.display='none'; document.getElementById('registerScreen').style.display='none'; document.getElementById('shop').style.display='block'; }

/* Registrierung */
function registerUser(){
  const email = document.getElementById('regEmail').value;
  const pass1 = document.getElementById('regPasswort').value;
  const pass2 = document.getElementById('regPasswort2').value;
  if(pass1!==pass2){ alert("Passw√∂rter stimmen nicht √ºberein!"); return; }
  if(users.find(u=>u.email===email)){ alert("Email schon benutzt!"); return; }
  users.push({email:email,password:pass1});
  alert("Erfolgreiche Registrierung! Sie haben sich erfolgreich einen Account zugelegt, ich w√ºnsche Ihnen viel Spa√ü beim Shopen.");
  showLogin();
}

/* Anmeldung */
function loginUser(){
  const email=document.getElementById('loginEmail').value;
  const pass=document.getElementById('loginPasswort').value;
  if(users.find(u=>u.email===email && u.password===pass)){ loggedIn=true; enterShop(); }
  else alert("Falsche Daten!");
}

/* Warenkorb verschiebbar */
const cartDiv = document.getElementById('cart');
cartDiv.onmousedown = function(e){
  let shiftX = e.clientX - cartDiv.getBoundingClientRect().left;
  let shiftY = e.clientY - cartDiv.getBoundingClientRect().top;
  function moveAt(pageX,pageY){ cartDiv.style.left=pageX-shiftX+'px'; cartDiv.style.top=pageY-shiftY+'px'; }
  function onMouseMove(e){ moveAt(e.pageX,e.pageY); }
  document.addEventListener('mousemove',onMouseMove);
  document.onmouseup = function(){ document.removeEventListener('mousemove',onMouseMove); document.onmouseup=null; };
};
cartDiv.ondragstart = function(){ return false; };

/* Kaufen */
function buyProduct(name){
  if(!loggedIn){ showLogin(); window.scrollTo({top:0, behavior:'smooth'}); return; }
  cart++;
  const countDiv = document.getElementById('cartCount');
  countDiv.style.display='flex';
  countDiv.innerText=cart;
  window.location.href = `mailto:online.shop551552@gmail.com?subject=Bestellung&body=Ich m√∂chte ${encodeURIComponent(name)} kaufen`;
}

/* Suche */
function searchProducts(){
  const input = document.getElementById('searchBar').value.toLowerCase();
  const products = document.getElementById('produkteContainer').children;
  for(let p of products){
    const name = p.getAttribute('data-name').toLowerCase();
    p.style.display = name.includes(input)?'block':'none';
  }
}
</script>

</body>
</html>
