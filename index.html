<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mein Shop</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#f9f9f9;color:#333;}
header{background:#ff6600;color:white;padding:15px 20px;display:flex;justify-content:space-between;align-items:center;position:relative;}
header h1{margin:0;font-size:22px;}
.search-bar{flex:1;margin:0 20px;}
.search-bar input{width:100%;padding:8px 12px;border-radius:20px;border:none;font-size:14px;}
.cart{position:absolute;top:15px;right:15px;background:white;border:3px solid orange;border-radius:50%;width:60px;height:60px;display:flex;justify-content:center;align-items:center;font-size:26px;cursor:pointer;box-shadow:0 4px 8px rgba(0,0,0,0.15);z-index:1000;}
.cart span{position:absolute;top:-5px;right:-5px;background:orange;color:white;font-size:13px;font-weight:bold;border-radius:50%;padding:4px 7px;}
.products{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;padding:20px;}
.product{background:white;border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,0.1);overflow:hidden;display:flex;flex-direction:column;transition:transform 0.2s;}
.product:hover{transform:translateY(-5px);}
.product img{width:100%;height:200px;object-fit:cover;}
.product-info{padding:15px;flex:1;display:flex;flex-direction:column;justify-content:space-between;}
.product-info h3{margin:0 0 10px;font-size:18px;color:#444;}
.product-info p{margin:0 0 12px;font-size:15px;color:#666;}
.btn{background:orange;color:white;border:none;padding:10px;border-radius:25px;cursor:pointer;font-size:14px;transition:background 0.2s;}
.btn:hover{background:#e65c00;}
.detail-view{display:none;padding:30px;background:white;position:fixed;top:0;left:0;width:100%;height:100%;overflow-y:auto;z-index:999;}
.detail-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;}
.detail-header h2{margin:0;}
.detail-slider{position:relative;max-width:500px;margin:0 auto 20px;overflow:hidden;}
.detail-slider img{width:100%;height:350px;object-fit:cover;border-radius:10px;transition:transform 0.5s ease;}
.slider-btn{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.5);color:white;border:none;font-size:20px;padding:8px;border-radius:50%;cursor:pointer;}
.slider-btn.left{left:10px;}
.slider-btn.right{right:10px;}
.cart-page{display:none;padding:20px;}
.cart-item{background:white;border-radius:10px;padding:15px;margin-bottom:15px;box-shadow:0 2px 6px rgba(0,0,0,0.1);}
.cart-item h3{margin:0 0 8px;}
.remove-btn{font-size:13px;color:gray;background:none;border:none;cursor:pointer;margin-top:5px;}
.cart-summary{text-align:right;margin-top:20px;}
.cart-summary button{margin-top:10px;}
.auth-container{display:flex;height:100vh;justify-content:center;align-items:center;background:#f2f2f2;position:fixed;width:100%;top:0;left:0;z-index:1001;}
.auth-box{background:white;padding:30px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,0.1);width:320px;text-align:center;}
.auth-box h2{margin-bottom:20px;}
.auth-box input{width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid #ccc;}
.auth-box button{width:100%;margin-top:15px;}
</style>
</head>
<body>

<!-- Registrierung/Login -->
<div class="auth-container" id="authScreen">
  <div class="auth-box" id="loginBox">
    <h2>Registrieren</h2>
    <input type="email" id="regEmail" placeholder="Email">
    <input type="text" id="regUser" placeholder="Benutzername">
    <input type="password" id="regPass" placeholder="Passwort">
    <input type="password" id="regPass2" placeholder="Passwort bestÃ¤tigen">
    <button class="btn" onclick="register()">Registrieren</button>
    <hr>
    <h2>Login</h2>
    <input type="text" id="loginUser" placeholder="Benutzername">
    <input type="password" id="loginPass" placeholder="Passwort">
    <button class="btn" onclick="login()">Login</button>
    <button class="btn" style="background:#ccc;color:#333;" onclick="skipLogin()">Login Ãœberspringen</button>
  </div>
</div>

<!-- Header -->
<header id="mainHeader" style="display:none;">
  <h1>Mein Shop</h1>
  <div class="search-bar">
    <input type="text" id="headerSearch" placeholder="Produkte suchen..." oninput="searchProducts(this.value)">
  </div>
  <div class="cart" id="cartIcon" onclick="openCart()">
    ðŸ›’<span id="cartCount">0</span>
  </div>
</header>

<!-- Produkte -->
<div class="products" id="productList" style="display:none;"></div>

<!-- Detailseite -->
<div class="detail-view" id="detailView">
  <div class="detail-header">
    <h2 id="detailTitle"></h2>
    <button class="btn" onclick="closeDetail()">ZurÃ¼ck</button>
  </div>
  <div class="detail-slider">
    <button class="slider-btn left" onclick="prevSlide()">â€¹</button>
    <img id="detailImage" src="" alt="Detail Bild">
    <button class="slider-btn right" onclick="nextSlide()">â€º</button>
  </div>
  <p id="detailPrice"></p>
  <button class="btn" onclick="addToCart(currentProduct)">In Warenkorb legen</button>
</div>

<!-- Warenkorb -->
<div class="cart-page" id="cartPage">
  <h2>Dein Warenkorb</h2>
  <input type="text" id="cartSearch" placeholder="Warenkorb durchsuchen..." oninput="searchCart(this.value)">
  <div id="cartItems"></div>
  <div class="cart-summary">
    <button class="btn" onclick="buyAll()">Alle Produkte kaufen</button>
    <button class="btn" onclick="emptyCart()">Warenkorb leeren</button>
    <button class="btn" style="background:#ccc;color:#333;" onclick="backToShop()">Weiter shoppen</button>
    <p id="cartTotal">Gesamt: 0 â‚¬</p>
  </div>
</div>

<script>
let loggedIn=false;
let cart=[];
let currentProduct=null;
let currentSlide=0;
let products=[];

// 10 Produkte erstellen
for(let i=0;i<10;i++){
  products.push({
    id:i+1,
    name:"Produkt "+(i+1),
    price:9.99+i*10,
    images:[
      "https://via.placeholder.com/500x350?text=Produkt+"+(i+1)+"-1",
      "https://via.placeholder.com/500x350?text=Produkt+"+(i+1)+"-2"
    ]
  });
}

// Registrierung
function register(){
  let email=document.getElementById("regEmail").value;
  let user=document.getElementById("regUser").value;
  let pass=document.getElementById("regPass").value;
  let pass2=document.getElementById("regPass2").value;
  if(!email||!user||!pass||!pass2){alert("Bitte alle Felder ausfÃ¼llen");return;}
  if(pass!==pass2){alert("PasswÃ¶rter stimmen nicht Ã¼berein");return;}
  alert("Registrierung erfolgreich! Bitte einloggen.");
}

// Login
function login(){
  let user=document.getElementById("loginUser").value;
  let pass=document.getElementById("loginPass").value;
  if(!user||!pass){alert("Bitte Benutzername und Passwort eingeben");return;}
  showShop();
}
function skipLogin(){showShop();}

function showShop(){
  loggedIn=true;
  document.getElementById("authScreen").style.display="none";
  document.getElementById("mainHeader").style.display="flex";
  document.getElementById("productList").style.display="grid";
  renderProducts();
}

// Produkte rendern
function renderProducts(){
  const container=document.getElementById("productList");
  container.innerHTML="";
  products.forEach(p=>{
    const div=document.createElement("div");
    div.className="product";
    div.innerHTML=`<img src="${p.images[0]}" alt="${p.name}">
      <div class="product-info">
        <h3>${p.name}</h3>
        <p>${p.price.toFixed(2)} â‚¬</p>
        <button class="btn" onclick="addToCartById(${p.id})">In Warenkorb</button>
      </div>`;
    div.onclick=()=>openDetail(p.id);
    container.appendChild(div);
  });
}

// Detailseite
function openDetail(id){
  const p=products.find(x=>x.id===id);
  currentProduct=p;
  currentSlide=0;
  document.getElementById("detailTitle").innerText=p.name;
  document.getElementById("detailPrice").innerText=p.price.toFixed(2)+" â‚¬";
  document.getElementById("detailImage").src=p.images[0];
  document.getElementById("detailView").style.display="block";
  document.getElementById("productList").style.display="none";
}
function closeDetail(){
  document.getElementById("detailView").style.display="none";
  document.getElementById("productList").style.display="grid";
}
function nextSlide(){
  if(!currentProduct)return;
  currentSlide=(currentSlide+1)%currentProduct.images.length;
  document.getElementById("detailImage").src=currentProduct.images[currentSlide];
}
function prevSlide(){
  if(!currentProduct)return;
  currentSlide=(currentSlide-1+currentProduct.images.length)%currentProduct.images.length;
  document.getElementById("detailImage").src=currentProduct.images[currentSlide];
}

// Warenkorb
function addToCartById(id){
  const p=products.find(x=>x.id===id);
  cart.push(p);
  updateCartCount();
}
function addToCart(p){
  cart.push(p);
  updateCartCount();
}
function updateCartCount(){document.getElementById("cartCount").innerText=cart.length;}

function openCart(){
  document.getElementById("productList").style.display="none";
  document.getElementById("detailView").style.display="none";
  document.getElementById("cartPage").style.display="block";
  renderCart();
}
function backToShop(){
  document.getElementById("cartPage").style.display="none";
  document.getElementById("productList").style.display="grid";
}

function renderCart(){
  const container=document.getElementById("cartItems");
  container.innerHTML="";
  let total=0;
  cart.forEach((item,index)=>{
    total+=item.price;
    const div=document.createElement("div");
    div.className="cart-item";
    div.innerHTML=`<h3>${item.name}</h3>
      <p>${item.price.toFixed(2)} â‚¬</p>
      <button class="remove-btn" onclick="removeCartItem(${index})">aus Warenkorb entfernen</button>`;
    container.appendChild(div);
  });
  document.getElementById("cartTotal").innerText="Gesamt: "+total.toFixed(2)+" â‚¬";
}

function removeCartItem(i){cart.splice(i,1);renderCart();updateCartCount();}
function emptyCart(){cart=[];renderCart();updateCartCount();}
function buyAll(){if(cart.length===0){alert("Warenkorb leer");return;}alert("Produkte gekauft!");emptyCart();}

// Suchfunktionen
function searchProducts(val){
  val=val.toLowerCase();
  document.querySelectorAll(".product").forEach(p=>{
    const name=p.querySelector("h3").innerText.toLowerCase();
    p.style.display=name.includes(val)?"flex":"none";
  });
}
function searchCart(val){
  val=val.toLowerCase();
  document.querySelectorAll(".cart-item").forEach(item=>{
    const name=item.querySelector("h3").innerText.toLowerCase();
    item.style.display=name.includes(val)?"block":"none";
  });
}
</script>
</body>
</html>
